(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8360],{28429:function(e,s,l){Promise.resolve().then(l.bind(l,90915))},90915:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return ei},dynamic:function(){return es}});var i=l(48622),a=l(68843),t=l(96287),n=l(69700),r=l(84987),d=l(16140),o=l(81910),p=l(52853),c=l(32891),u=l(44448),m=l(57938),x=l(83804);let h=t.Ry({listingType:t.Km(["individual","litter"],{message:"Please select listing type"})});var f=l(28008),v=l(23172);let g=t.Ry({age:t.oQ.number().min(1,{message:"Please enter age"}).max(2600,{message:"Please enter valid age in weeks"}),breed:t.Z_({message:"Please select breed"}).min(1,{message:"Please select breed"}),numberOfPuppies:t.oQ.number().int({message:"Please enter valid number of puppies"}).min(1,{message:"Please enter number of puppies"}).max(20,{message:"Number of puppies cannot be more than ".concat(20)})});var b=l(12475),j=l(18909),y=l(81537),N=l(50386),w=l(22907),P=l(5114),S=l(21486),I=l(85830);let k=w.fC,C=w.xz;w.ZA,w.Uv,w.Tr,w.Ee,m.forwardRef((e,s)=>{let{className:l,inset:a,children:t,...n}=e;return(0,i.jsxs)(w.fF,{ref:s,className:(0,I.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-neutral-100 data-[state=open]:bg-neutral-100",a&&"pl-8",l),...n,children:[t,(0,i.jsx)(j.Z,{className:"ml-auto h-4 w-4"})]})}).displayName=w.fF.displayName,m.forwardRef((e,s)=>{let{className:l,...a}=e;return(0,i.jsx)(w.tu,{ref:s,className:(0,I.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border border-neutral-200 bg-white p-1 text-neutral-950 shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",l),...a})}).displayName=w.tu.displayName;let O=m.forwardRef((e,s)=>{let{className:l,sideOffset:a=4,...t}=e;return(0,i.jsx)(w.Uv,{children:(0,i.jsx)(w.VY,{ref:s,sideOffset:a,className:(0,I.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border border-neutral-200 bg-white p-1 text-neutral-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",l),...t})})});O.displayName=w.VY.displayName;let z=m.forwardRef((e,s)=>{let{className:l,inset:a,...t}=e;return(0,i.jsx)(w.ck,{ref:s,className:(0,I.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-neutral-100 focus:text-neutral-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a&&"pl-8",l),...t})});z.displayName=w.ck.displayName,m.forwardRef((e,s)=>{let{className:l,children:a,checked:t,...n}=e;return(0,i.jsxs)(w.oC,{ref:s,className:(0,I.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-neutral-100 focus:text-neutral-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",l),checked:t,...n,children:[(0,i.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,i.jsx)(w.wU,{children:(0,i.jsx)(P.Z,{className:"h-4 w-4"})})}),a]})}).displayName=w.oC.displayName,m.forwardRef((e,s)=>{let{className:l,children:a,...t}=e;return(0,i.jsxs)(w.Rk,{ref:s,className:(0,I.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-neutral-100 focus:text-neutral-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",l),...t,children:[(0,i.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,i.jsx)(w.wU,{children:(0,i.jsx)(S.Z,{className:"h-2 w-2 fill-current"})})}),a]})}).displayName=w.Rk.displayName,m.forwardRef((e,s)=>{let{className:l,inset:a,...t}=e;return(0,i.jsx)(w.__,{ref:s,className:(0,I.cn)("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",l),...t})}).displayName=w.__.displayName,m.forwardRef((e,s)=>{let{className:l,...a}=e;return(0,i.jsx)(w.Z0,{ref:s,className:(0,I.cn)("-mx-1 my-1 h-px bg-neutral-100",l),...a})}).displayName=w.Z0.displayName;var A=l(63550),D=l(91872);let Z=e=>{let{isOpenDialog:s,setIsOpenDialog:l,title:a,description:t,onConfirm:n,onCancel:r,cancelButtonText:d="Cancel",confirmButtonText:o="Confirm"}=e;return(0,i.jsx)(A.Vq,{open:s,onOpenChange:l,children:(0,i.jsxs)(A.cZ,{children:[(0,i.jsx)(A.fK,{children:(0,i.jsx)(A.$N,{children:a})}),(0,i.jsx)("div",{children:null!=t?t:"Are you share you want to do this action?"}),(0,i.jsxs)("div",{className:"flex items-center justify-end space-x-3",children:[(0,i.jsx)(D.z,{variant:"outline",onClick:()=>{null==r||r(),l(!1)},children:d}),(0,i.jsx)(D.z,{onClick:()=>{null==n||n(),l(!1)},children:o})]})]})})};var _=l(31552),T=l(46834),R=l(76771);let V=t.Ry({puppies:t.IX(t.Ry({name:t.Z_({message:"Please enter puppy name"}).min(1,{message:"Please enter puppy name"}),description:t.Z_({message:"Please enter puppy description"}).max(1e3,{message:"Description is too long"}),price:t.oQ.number({message:"Please enter price"}).min(1,{message:"Please enter minimum $1 price"}).max(1e8,{message:"Price is too high"}),gender:t.Km(["male","female"],{message:"Please select puppy gender"}),images:t.IX(t.Yj().refine(e=>(null==e?void 0:e.size)<=1048576,"Max image size is 1MB.").refine(e=>{var s;return null==e?void 0:null===(s=e.type)||void 0===s?void 0:s.includes("image")},"Only image files are supported.")).min(1,{message:"At least one image is required!"}).max(10,{message:"Maximum of 10 images are allowed"})})).min(1,{message:"At least one puppy is required!"})});function F(e){let{selectedPuppyIdx:s,numberOfPuppies:l,onCopySelectedPuppyValuesToAllOther:t,onCopyValuesFromOtherPuppyToSelected:n,onNextPuppy:r,onPreviousPuppy:d}=e,{value:o,setValue:p}=(0,_.kt)(!1),{value:c,setValue:x,setFalse:h}=(0,_.kt)(!1),[f,v]=(0,m.useState)(-1);return(0,i.jsxs)("div",{className:"flex items-center justify-between space-x-3 my-4",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("button",{className:"px-3 disabled:opacity-50 disabled:cursor-not-allowed",disabled:0===s,onClick:d,type:"button",children:(0,i.jsx)(b.Z,{})}),(0,i.jsxs)(a.x,{children:["Selected puppy: ",s+1]}),(0,i.jsx)("button",{className:"px-3 disabled:opacity-50 disabled:cursor-not-allowed",disabled:s===l-1,onClick:r,type:"button",children:(0,i.jsx)(j.Z,{})})]}),(0,i.jsx)(Z,{title:"Are you sure?",description:"This action will replace all other pupies values with currenct selected puppy ".concat(s+1,"."),onConfirm:()=>t(s),isOpenDialog:o,setIsOpenDialog:p}),(0,i.jsx)(A.Vq,{open:c,onOpenChange:x,children:(0,i.jsxs)(A.cZ,{children:[(0,i.jsx)(A.fK,{children:(0,i.jsx)(A.$N,{children:"Are you sure?"})}),(0,i.jsxs)("div",{children:["This action will copy below puppy data to current puppy"," ",s+1," data"]}),(0,i.jsxs)("label",{className:"block mb-4 flex-1",children:[(0,i.jsx)("span",{className:"block text-base font-bold leading-7",children:"Select puppy"}),(0,i.jsxs)(N.Ph,{value:f.toString(),onValueChange:e=>v(+e),children:[(0,i.jsx)(N.i4,{children:(0,i.jsx)(N.ki,{placeholder:"Select puppy"})}),(0,i.jsx)(N.Bw,{children:Array.from({length:null!=l?l:1}).map((e,l)=>l===s?null:(0,i.jsxs)(N.Ql,{value:l.toString(),children:["Puppy ",l+1]},l)).filter(Boolean)})]})]}),(0,i.jsxs)("div",{className:"flex items-center justify-end space-x-3",children:[(0,i.jsx)(u.zx,{variant:"outline",onClick:h,children:"Cancel"}),(0,i.jsx)(u.zx,{onClick:()=>{f<0||(n(f),h())},children:"Confirm"})]})]})}),(0,i.jsxs)(k,{children:[(0,i.jsx)(C,{children:(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("span",{children:"Actions"}),(0,i.jsx)(y.Z,{className:"w-4 h-4"})]})}),(0,i.jsxs)(O,{children:[(0,i.jsx)(z,{children:(0,i.jsx)(u.zx,{variant:"ghost",onClick:()=>{p(!0)},children:"Copy current puppy values to all other puppies"})}),(0,i.jsx)(z,{children:(0,i.jsx)(u.zx,{variant:"ghost",onClick:()=>{x(!0)},children:"Copy values from other puppy"})})]})]})]})}var L=l(19491),Q=l(52426),q=l(63852),B=l(75640),E=l(60062),U=l(89127),X=l(54663),$=l(91269),M=l(18610),Y=l(8475);let K=(e,s)=>"".concat(e,"@").concat(s),G=e=>{let[s,l]=e.split("@");return{adIdx:Number(s),productIdx:Number(l)}};var J=l(43413);let W=[{title:"Create Puppy Listing",description:"Create a new puppy listing",form:(0,i.jsx)(()=>{var e,s;let{stepIdx:l,totalSteps:a,goToNextStep:t,goToPreviousStep:f,formData:v,appendFormData:g}=(0,n.p)(),{handleSubmit:b,setValue:j,watch:y,formState:{errors:N}}=(0,d.cI)({defaultValues:{listingType:v.listingType},mode:"onChange",resolver:(0,o.F)(h)}),w=y(),P=w.listingType;return(0,m.useEffect)(()=>{(0,x.SI)(w)||g(w)},[w,g]),(0,i.jsxs)("form",{noValidate:!0,onSubmit:b(e=>{t(e)}),children:[(0,i.jsxs)("button",{type:"button",onClick:()=>{j("listingType","individual")},className:(0,c.Z)("w-full card-gradient mt-4 flex cursor-pointer items-center gap-5 rounded-md border p-6 font-bold text-gray-dark transition duration-200 hover:shadow-card md:p-8 lg:mt-6 lg:p-10 lg:text-xl lg:rounded-lg","individual"===P?"border-2 border-black":"border-gray-lighter"),children:[(0,i.jsx)(r.Z,{}),"Individual Puppy Listings"]}),(0,i.jsxs)("button",{type:"button",onClick:()=>{j("listingType","litter")},className:(0,c.Z)("w-full card-gradient mt-4 flex cursor-pointer items-center gap-5 rounded-md border p-6 font-bold text-gray-dark transition duration-200 hover:shadow-card md:p-8 lg:mt-6 lg:p-10 lg:text-xl lg:rounded-lg","litter"===P?"border-2 border-black":"border-gray-lighter"),children:[(0,i.jsxs)("span",{className:"flex",children:[(0,i.jsx)(r.Z,{size:18}),(0,i.jsx)(r.Z,{size:18}),(0,i.jsx)(r.Z,{size:18})]}),"Full Litter Listing"]}),(null==N?void 0:null===(e=N.listingType)||void 0===e?void 0:e.message)&&(0,i.jsx)(p.cp,{className:"mt-2 absolute",size:"xl",error:null==N?void 0:null===(s=N.listingType)||void 0===s?void 0:s.message}),(0,i.jsx)(u.OZ,{currentStepIdx:l,totalSteps:a,goToPreviousStep:f})]})},{}),validationSchema:h},{title:"Basic Information",form:(0,i.jsx)(()=>{var e,s,l;let{stepIdx:a,totalSteps:t,formData:r,goToNextStep:c,goToPreviousStep:h,appendFormData:b}=(0,n.p)(),{handleSubmit:j,setValue:y,watch:N,register:w,formState:{errors:P}}=(0,d.cI)({defaultValues:{age:r.age,breed:r.breed,numberOfPuppies:r.numberOfPuppies},mode:"onChange",resolver:(0,o.F)(g)}),S=N(),{breed:I,numberOfPuppies:k}=S;return(0,m.useEffect)(()=>{"individual"===r.listingType&&(k>1&&y("numberOfPuppies",1),b({numberOfPuppies:1,...!!r.puppies&&r.puppies.length>1&&{puppies:[r.puppies[0]]}}))},[r.listingType,r.puppies,k,y,b]),(0,m.useEffect)(()=>{(0,x.SI)(S)||b(S)},[S,b]),(0,i.jsxs)("form",{className:"mt-10",noValidate:!0,onSubmit:j(e=>{c(e)}),children:[(0,i.jsx)(p.II,{type:"number",label:"Age in weeks",className:"mb-4",error:null==P?void 0:null===(e=P.age)||void 0===e?void 0:e.message,required:!0,...w("age")}),(0,i.jsx)(f.h,{label:"Select breed",value:I,setValue:e=>y("breed",e),options:v.AW.map(e=>({value:e.value,label:e.label})),btnClassName:"w-full active:!scale-100",popoverClassName:"w-[--radix-popover-trigger-width] ",error:null==P?void 0:null===(s=P.breed)||void 0===s?void 0:s.message}),"litter"===r.listingType?(0,i.jsx)(p.II,{type:"number",label:"Number of puppies in the litter",className:"my-4",error:null==P?void 0:null===(l=P.numberOfPuppies)||void 0===l?void 0:l.message,required:!0,...w("numberOfPuppies")}):(0,i.jsx)("input",{type:"hidden",value:1,...w("numberOfPuppies")}),(0,i.jsx)(u.OZ,{currentStepIdx:a,totalSteps:t,goToPreviousStep:h})]})},{}),validationSchema:g},{title:"Puppy Details",form:(0,i.jsx)(()=>{var e,s;let{stepIdx:l,totalSteps:a,formData:t,goToNextStep:r,goToPreviousStep:h,appendFormData:f}=(0,n.p)(),{handleSubmit:v,watch:g,register:b,control:j,reset:y,setValue:w,formState:{errors:P}}=(0,d.cI)({defaultValues:{puppies:t.puppies},mode:"onChange",resolver:(0,o.F)(V)}),[S,I]=(0,m.useState)(0),k=g();return(0,m.useEffect)(()=>{var e;if((null===(e=P.puppies)||void 0===e?void 0:e.length)&&P.puppies.length>0){if(P.puppies[S])return;for(let e=0;e<P.puppies.length;e++)if(P.puppies[e]){I(e);break}}},[P]),(0,m.useEffect)(()=>{k.puppies&&k.puppies.length>t.numberOfPuppies&&w("puppies",k.puppies.slice(0,t.numberOfPuppies))},[t.numberOfPuppies,k.puppies,w]),(0,m.useEffect)(()=>{(0,x.SI)(k)||f(k)},[k,f]),(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("form",{className:"pt-10 pb-40",noValidate:!0,onSubmit:v(e=>{r(e)}),children:[(0,i.jsxs)("label",{className:"block mb-4 flex-1",children:[(0,i.jsx)("span",{className:"block text-base font-bold leading-7",children:"Select puppy"}),(0,i.jsxs)(N.Ph,{value:S.toString(),onValueChange:e=>I(+e),children:[(0,i.jsx)(N.i4,{children:(0,i.jsx)(N.ki,{placeholder:"Select puppy"})}),(0,i.jsx)(N.Bw,{children:Array.from({length:null!==(e=t.numberOfPuppies)&&void 0!==e?e:1}).map((e,s)=>(0,i.jsxs)(N.Ql,{value:s.toString(),children:["Puppy ",s+1]},s))})]})]}),(0,i.jsx)(u.iz,{className:"mt-6"}),(0,i.jsx)(F,{selectedPuppyIdx:S,numberOfPuppies:t.numberOfPuppies,onCopySelectedPuppyValuesToAllOther:e=>{var s;if(e!==S)return;let l=k.puppies[S];(0,x.BX)(l)||y({puppies:Array.from({length:null!==(s=t.numberOfPuppies)&&void 0!==s?s:1}).map(()=>({...l}))})},onCopyValuesFromOtherPuppyToSelected:e=>{if(e===S||e<0)return;let s=k.puppies,l=k.puppies[e];(0,x.BX)(l)||(s[S]=l,y({puppies:s}))},onNextPuppy:()=>{S<t.numberOfPuppies-1&&I(S+1)},onPreviousPuppy:()=>{S>0&&I(S-1)}}),(0,i.jsx)(u.iz,{className:"mb-6"}),Array.from({length:null!==(s=t.numberOfPuppies)&&void 0!==s?s:1}).map((e,s)=>{var l,a,t,n,r,o,u,m,x,h,f,v,g,y;return(0,i.jsxs)("div",{className:(0,c.Z)(S===s?"block":"hidden"),children:[(0,i.jsx)(p.II,{type:"text",label:"Puppy name",className:"mb-4",size:"lg",required:!0,...b("puppies.".concat(s,".name")),error:null==P?void 0:null===(t=P.puppies)||void 0===t?void 0:null===(a=t[s])||void 0===a?void 0:null===(l=a.name)||void 0===l?void 0:l.message}),(0,i.jsx)(p.II,{type:"text",label:"Puppy description (max 1000 characters)",className:"mb-4",size:"lg",required:!0,...b("puppies.".concat(s,".description")),error:null==P?void 0:null===(o=P.puppies)||void 0===o?void 0:null===(r=o[s])||void 0===r?void 0:null===(n=r.description)||void 0===n?void 0:n.message}),(0,i.jsx)(p.II,{type:"number",label:"Puppy price",size:"lg",className:"mb-4",required:!0,...b("puppies.".concat(s,".price")),error:null==P?void 0:null===(x=P.puppies)||void 0===x?void 0:null===(m=x[s])||void 0===m?void 0:null===(u=m.price)||void 0===u?void 0:u.message}),(0,i.jsx)(d.Qr,{name:"puppies.".concat(s,".gender"),control:j,render:e=>{var l,a,t,n,r,d;let{field:o}=e;return(0,i.jsxs)("label",{className:"block mb-4",children:[(0,i.jsx)("span",{className:"block text-base font-bold leading-7 mb-2",children:"Gender"}),(0,i.jsxs)(N.Ph,{...o,value:o.value,onValueChange:e=>{o.onChange(e)},children:[(0,i.jsx)(N.i4,{children:(0,i.jsx)(N.ki,{placeholder:"Select gender"})}),(0,i.jsxs)(N.Bw,{children:[(0,i.jsx)(N.Ql,{value:"male",children:"Male"}),(0,i.jsx)(N.Ql,{value:"female",children:"Female"})]})]}),(null==P?void 0:null===(t=P.puppies)||void 0===t?void 0:null===(a=t[s])||void 0===a?void 0:null===(l=a.gender)||void 0===l?void 0:l.message)&&(0,i.jsx)(p.cp,{size:"lg",error:null==P?void 0:null===(d=P.puppies)||void 0===d?void 0:null===(r=d[s])||void 0===r?void 0:null===(n=r.gender)||void 0===n?void 0:n.message})]})}}),(0,i.jsx)(d.Qr,{name:"puppies.".concat(s,".images"),control:j,render:e=>{let{field:l}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(T.b,{label:"Upload puppy images",accept:"image/*",multiple:!0,onChange:e=>{var s;l.onChange([...null!==(s=l.value)&&void 0!==s?s:[],...Array.from(e)])}}),l.value&&(0,i.jsx)(R.e,{images:l.value.map((e,l)=>{var i,a,t,n;return{url:e instanceof File?URL.createObjectURL(e):"",error:null==P?void 0:null===(n=P.puppies)||void 0===n?void 0:null===(t=n[s])||void 0===t?void 0:null===(a=t.images)||void 0===a?void 0:null===(i=a[l])||void 0===i?void 0:i.message}}),onDelete:e=>{l.value.splice(e,1),l.onChange(l.value)}})]})}}),(null==P?void 0:null===(f=P.puppies)||void 0===f?void 0:null===(h=f[s])||void 0===h?void 0:h.images)&&(0,i.jsx)(p.cp,{size:"lg",error:null==P?void 0:null===(y=P.puppies)||void 0===y?void 0:null===(g=y[s])||void 0===g?void 0:null===(v=g.images)||void 0===v?void 0:v.message})]},s)}),(0,i.jsx)(u.OZ,{currentStepIdx:l,totalSteps:a,goToPreviousStep:h})]})})},{}),validationSchema:V},{title:"Contact Information",description:"",form:(0,i.jsx)(J.b,{}),validationSchema:J.R},{title:"Checkout",description:"Only 1 step away from listing your puppy",form:(0,i.jsx)(()=>{var e,s,l;let{stepIdx:t,totalSteps:r,getFormData:d,goToPreviousStep:o,appendFormData:p,replaceFormData:c}=(0,n.p)(),{data:x,isLoading:h}=(0,$.X)("puppy"),f=null!==(s=null==x?void 0:x.products)&&void 0!==s?s:[],{data:v=[]}=(0,M.x)("puppy"),{mutateAsync:g,isPending:b}=(0,q.Pl)(),{mutateAsync:j,isPending:y}=(0,U.f)(),w=(0,X.useRouter)(),[P,S]=(0,m.useState)(0),[I,k]=(0,m.useState)(void 0),C=f[P],O=I?G(I):void 0,z=O?v[O.adIdx]:void 0,A=O?null==z?void 0:null===(e=z.products)||void 0===e?void 0:e[O.productIdx]:void 0,D=(null!==(l=null==C?void 0:C.price)&&void 0!==l?l:0)+(A?A.price:0),Z=async e=>{try{let{checkoutUrl:s}=await j(e);c({}),w.push(s)}catch(l){var s;let e=(0,B.v)(l);(0,E.Am)({title:"Failed to create checkout link",description:null!==(s=null==e?void 0:e.message)&&void 0!==s?s:"Something went wrong"})}},_=async()=>{if(!C){(0,E.Am)({title:"Failed!",description:"Please select a listing duration"});return}if(z&&A&&C.durationInDays<A.durationInDays){(0,E.Am)({title:"Failed!",description:"Ad duration is greater than listing duration"});return}let e=d();if(e.listingId){Z({listingId:e.listingId,durationInDays:C.durationInDays,adId:null==z?void 0:z.id,adDurationInDays:null==A?void 0:A.durationInDays});return}try{let s=await g({type:"puppy",fields:e});p({listingId:s.id}),await Z({listingId:s.id,durationInDays:C.durationInDays,adId:null==z?void 0:z.id,adDurationInDays:null==A?void 0:A.durationInDays})}catch(l){var s;let e=(0,B.v)(l);(0,E.Am)({title:"Failed!",description:null!==(s=null==e?void 0:e.message)&&void 0!==s?s:"Something went wrong"})}};return(0,i.jsxs)("div",{className:"mt-6 pb-40",children:[(0,i.jsx)(L.RequireUser,{className:"max-w-full",successRedirect:"".concat(Q.Z.public.createListing.puppyListing,"?step=").concat(t+1),children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("label",{className:"text-h5",children:[(0,i.jsx)("span",{className:"mb-2 block font-bold",children:"Listing Duration"}),h?"Loading...":(0,i.jsxs)(N.Ph,{disabled:f.length<=1,onValueChange:e=>{S(Number(e))},value:P.toString(),children:[(0,i.jsx)(N.i4,{disabled:f.length<=1,className:"mb-4 h-auto [&>span]:block [&_.select-box]:border-none text-start disabled:!opacity-100",children:(0,i.jsx)(N.ki,{placeholder:"Select puppy"})}),(0,i.jsx)(N.Bw,{children:f.map((e,s)=>(0,i.jsx)(N.Ql,{className:"w-full flex-1 [&_span[id^='radix-']]:block [&_span[id^='radix-']]:w-full",value:s.toString(),children:(0,i.jsxs)("div",{className:"select-box border rounded-md p-2 w-full flex-1",children:[(0,i.jsx)(a.X,{tag:"h3",children:e.title}),(0,i.jsxs)(a.x,{className:"mt-3",children:["Duration"," ",(0,i.jsx)("span",{className:"text-gray-light font-bold",children:e.durationInDays})," ","days"]}),(0,i.jsxs)(a.x,{className:"mt-3",children:["Price"," ",(0,i.jsx)("span",{className:"font-bold",children:e.price})," ",Y.$S," "]})]})},s.toString()))})]})]}),v.length>0&&(0,i.jsxs)("label",{className:"text-h5",children:[(0,i.jsx)("span",{className:"mb-2 block font-bold",children:"Select Ad"}),(0,i.jsxs)(N.Ph,{onValueChange:e=>{k(e)},value:I,children:[(0,i.jsx)(N.i4,{className:"mb-4 h-auto [&>span]:block [&_.select-box]:border-none text-start disabled:!opacity-100",children:(0,i.jsx)(N.ki,{placeholder:"Select ad"})}),(0,i.jsxs)(N.Bw,{children:[I&&(0,i.jsx)(u.zx,{className:"w-full p-4",variant:"ghost",onClick:e=>{e.stopPropagation(),k(void 0)},children:"Clear"}),v.map((e,s)=>e.products.map((l,t)=>(0,i.jsx)(N.Ql,{className:"w-full flex-1 [&_span[id^='radix-']]:block [&_span[id^='radix-']]:w-full",value:K(s,t),children:(0,i.jsxs)("div",{className:"select-box border rounded-md p-2 w-full flex-1",children:[(0,i.jsx)(a.X,{tag:"h3",children:e.title}),(0,i.jsx)(a.x,{children:l.description}),(0,i.jsxs)(a.x,{className:"mt-3",children:["Duration"," ",(0,i.jsx)("span",{className:"text-gray-light font-bold",children:l.durationInDays})," ","days"]}),(0,i.jsxs)(a.x,{className:"mt-3",children:["Price"," ",(0,i.jsx)("span",{className:"font-bold",children:l.price})," ",Y.$S]})]})},K(s,t))))]})]},I)]}),(0,i.jsxs)("div",{className:"mt-4 flex justify-between items-center",children:[(0,i.jsxs)(a.x,{children:["Listing (",null==C?void 0:C.durationInDays," days)"]}),(0,i.jsx)(a.x,{children:(0,i.jsxs)("span",{className:"text-h4 font-bold",children:[Y.$S," ",null==C?void 0:C.price]})})]}),z&&A&&(0,i.jsxs)("div",{className:"mt-2 flex justify-between items-center",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)(a.x,{children:["Ad ",null==z?void 0:z.title," (",A.durationInDays," ","days)"]}),(0,i.jsx)(a.x,{className:"text-sm",children:A.description})]}),(0,i.jsx)(a.x,{children:(0,i.jsxs)("span",{className:"text-h4 font-bold",children:[Y.$S," ",A.price]})})]}),(0,i.jsx)(u.iz,{className:"mb-2 mt-4"}),(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)(a.x,{children:"Total"}),(0,i.jsx)(a.x,{children:(0,i.jsxs)("span",{className:"text-h3 font-bold",children:[Y.$S," ",D]})})]}),(0,i.jsx)(u.iz,{className:"mt-2 mb-4"}),(0,i.jsx)(u.zx,{disabled:b||y,isLoading:b||y,onClick:_,children:b?"Loading...":"Checkout"})]})}),(0,i.jsx)(u.OZ,{currentStepIdx:t,totalSteps:r,goToPreviousStep:o})]})},{})}],H=()=>{var e;let{stepIdx:s}=(0,n.p)(),l=null!==(e=W[s])&&void 0!==e?e:{};return(0,i.jsx)("div",{className:"w-full max-w-[600px] mx-auto",children:(0,i.jsxs)("div",{className:"container-fluid",children:[(0,i.jsx)(a.X,{children:l.title}),l.description&&(0,i.jsx)(a.x,{className:"text-base md:text-xl mt-4",children:l.description}),l.form]})})},ee=()=>{if(!(0,_.O_)())return null;let e=localStorage.getItem(Y.uf.PUPPY_LISTING_FORM_DATA),s=e?JSON.parse(e):{};return(0,i.jsx)(n.z,{totalSteps:W.length,initialData:s,onChangeData:e=>{localStorage.setItem(Y.uf.PUPPY_LISTING_FORM_DATA,JSON.stringify(e))},validationSchemas:W.map(e=>e.validationSchema),children:(0,i.jsx)(H,{})})},es="force-dynamic";function el(){return(0,i.jsx)("section",{className:"pt-16 md:pt-20 4xl:pt-24",children:(0,i.jsx)("div",{className:"flex justify-center mt-24 lg:mt-40 h-[calc(100vh-64px)] md:h-[calc(100vh-80px)] 4xl:h-[calc(100vh-96px)]",children:(0,i.jsx)(ee,{})})})}function ei(){return(0,i.jsx)(m.Suspense,{fallback:null,children:(0,i.jsx)(el,{})})}}},function(e){e.O(0,[1525,9618,8029,328,1993,8278,5880,2647,1910,6899,1509,2290,9770,3583,5846,9570,4448,9764,7741,7476,8805,2351,1744],function(){return e(e.s=28429)}),_N_E=e.O()}]);