(()=>{var e={};e.id=4797,e.ids=[4797],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},50768:(e,s,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(s),r.d(s,{GlobalError:()=>o.a,__next_app__:()=>b,originalPathname:()=>h,pages:()=>g,routeModule:()=>f,tree:()=>u});var t=r(55099),l=r(99749),n=r(43345);r(51962);var i=r(55552),d=r(59838),c=r(20524),o=r.n(c),m=r(93623),p={};for(let e in m)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(p[e]=()=>m[e]);r.d(s,p);var x=e([t,l,n]);[t,l,n]=x.then?(await x)():x;let u=["",{children:["(pages)",{children:["create-listing",{children:["wanted-puppy-listing",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,55099)),"/home/runner/work/next-frontend/next-frontend/app/(pages)/create-listing/wanted-puppy-listing/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,99749)),"/home/runner/work/next-frontend/next-frontend/app/(pages)/create-listing/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,43345)),"/home/runner/work/next-frontend/next-frontend/app/(pages)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,51962,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,91084))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,51962,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,91084))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],g=["/home/runner/work/next-frontend/next-frontend/app/(pages)/create-listing/wanted-puppy-listing/page.tsx"],h="/(pages)/create-listing/wanted-puppy-listing/page",b={require:r,loadChunk:()=>Promise.resolve()},f=new i.AppPageRouteModule({definition:{kind:d.x.APP_PAGE,page:"/(pages)/create-listing/wanted-puppy-listing/page",pathname:"/create-listing/wanted-puppy-listing",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}});a()}catch(e){a(e)}})},20473:(e,s,r)=>{Promise.resolve().then(r.bind(r,28319))},28319:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>Z,dynamic:()=>F});var a=r(57635),t=r(28422),l=r(30676),n=r(95062),i=r(96165),d=r(59394),c=r(74208),o=r(78500),m=r(3567),p=r(81201),x=r(3328),u=r(38971),g=r(28849),h=r(63463),b=r(99744),f=r(2660),j=r(87102),y=r(43606),N=r(52247);let v=c.Ry({title:c.Z_({message:"Please enter title"}).min(1,{message:"Please enter title"}),breed:c.Z_({message:"Please select breed"}).min(1,{message:"Please select breed"}),isHealthCeritificateRequired:c.Km(["required","optional"],{message:"Please select health certificate preference"}),isAnkcNumberRequired:c.Km(["required","optional"],{message:"Please select ANKC number preference"}),budget:c.oQ.number().min(1,{message:"Please enter your budget"}).max(1e8,{message:"Please enter your budget"}),minAge:j.gf,maxAge:j.gf,genderPreference:c.Km(["male","female"],{message:"Please select gender preference"}),referenceImages:(0,j.NY)({maxFileSize:1048576,maxImages:10,minImages:1}),referenceVideoUrls:c.IX(j.jN).optional().default([])});var w=r(35594),k=r(87005),I=r(2141),P=r(90096),q=r(30322),A=r(95110),C=r(6293),S=r(31015),_=r(46281);let R=(e,s)=>`${e}@${s}`,D=e=>{let[s,r]=e.split("@");return{adIdx:Number(s),productIdx:Number(r)}},L=[{title:"Wanted puppy Listing",description:"Create a new Wanted Puppy listing",form:a.jsx(()=>{let{stepIdx:e,totalSteps:s,formData:r,goToNextStep:t,goToPreviousStep:n,appendFormData:i}=(0,l.p)(),{handleSubmit:d,watch:c,register:j,control:w,formState:{errors:k}}=(0,o.cI)({defaultValues:{title:r.title,breed:r.breed,isHealthCeritificateRequired:r.isHealthCeritificateRequired,isAnkcNumberRequired:r.isAnkcNumberRequired,budget:r.budget,minAge:r.minAge,maxAge:r.maxAge,genderPreference:r.genderPreference,referenceImages:r.referenceImages,referenceVideoUrls:r.referenceVideoUrls},mode:"onChange",resolver:(0,m.F)(v)}),I=c();return console.log(I),(0,b.useEffect)(()=>{(0,f.SI)(I)||i(I)},[I,i]),(0,a.jsxs)("form",{className:"pt-10 pb-28",noValidate:!0,onSubmit:d(e=>{t(e)}),children:[a.jsx(p.II,{type:"text",label:"Listing title",className:"mb-4",error:k?.title?.message,required:!0,...j("title")}),(0,a.jsxs)("div",{className:"mb-4 flex-col sm:flex-row space-x-0 flex sm:items-start justify-between sm:space-x-5 space-y-4 sm:space-y-0",children:[a.jsx("div",{className:"flex-1",children:a.jsx(o.Qr,{name:"breed",control:w,render:({field:e})=>a.jsx(x.hQ,{label:"Desired breed",value:e.value,setValue:s=>e.onChange(s),options:u.AW.map(e=>({value:e.value,label:e.label})),btnClassName:"w-full active:!scale-100",popoverClassName:"w-[--radix-popover-trigger-width] ",error:k?.breed?.message})})}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx(o.Qr,{name:"genderPreference",control:w,render:({field:e})=>(0,a.jsxs)("label",{className:"block flex-1",children:[a.jsx("span",{className:"block text-sm font-bold mb-1.5",children:"Gender Preference"}),(0,a.jsxs)(y.Ph,{value:e.value,onValueChange:e.onChange,children:[a.jsx(y.i4,{className:"h-10 sm:h-12",children:a.jsx(y.ki,{placeholder:"Select gender"})}),(0,a.jsxs)(y.Bw,{className:"h-20",children:[a.jsx(y.Ql,{value:"male",children:"Male"}),a.jsx(y.Ql,{value:"female",children:"Female"})]})]})]})}),k.genderPreference?.message&&a.jsx(p.cp,{className:"mb-4",size:"lg",error:k?.genderPreference?.message})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[a.jsx("h4",{className:"font-bold mb-2",children:"Age Range"}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[a.jsx(p.II,{type:"number",label:"Min Age",className:"flex-1",error:k?.minAge?.message,required:!0,...j("minAge")}),a.jsx(p.II,{type:"number",label:"Max Age",className:"flex-1",error:k?.maxAge?.message,required:!0,...j("maxAge")})]})]}),(0,a.jsxs)("label",{className:"block mb-4 flex-1",children:[a.jsx("span",{className:"block text-sm font-bold mb-1.5",children:"Health Certificate Preference"}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx(N.Z,{labelClassName:"flex-1",className:"card-gradient cursor-pointer rounded-lg border border-gray-lighter py-4 text-center lg:rounded-xl xl:p-6 xl:text-left",inputClassName:"[&:checked:enabled~span]:ring-1 [&:checked:enabled~span]:ring-gray-lighter [&:checked:enabled~span]:border [&:checked:enabled~span]:border-gray-dark",value:"required",...j("isHealthCeritificateRequired"),children:a.jsx("p",{children:"Required"})}),a.jsx(N.Z,{labelClassName:"flex-1",className:"card-gradient cursor-pointer rounded-lg border border-gray-lighter py-4 text-center lg:rounded-xl xl:p-6 xl:text-left",inputClassName:"[&:checked:enabled~span]:ring-1 [&:checked:enabled~span]:ring-gray-lighter [&:checked:enabled~span]:border [&:checked:enabled~span]:border-gray-dark",value:"optional",...j("isHealthCeritificateRequired"),children:a.jsx("p",{children:"Optional"})})]})]}),k.isHealthCeritificateRequired?.message&&a.jsx(p.cp,{className:"mb-4",size:"lg",error:k?.isHealthCeritificateRequired?.message}),(0,a.jsxs)("label",{className:"block mb-4 flex-1",children:[a.jsx("span",{className:"block text-sm font-bold mb-1.5",children:"ANKC / State Breeder Registration Number Requirement"}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx(N.Z,{labelClassName:"flex-1",className:"card-gradient cursor-pointer rounded-lg border border-gray-lighter py-4 text-center lg:rounded-xl xl:p-6 xl:text-left",inputClassName:"[&:checked:enabled~span]:ring-1 [&:checked:enabled~span]:ring-gray-lighter [&:checked:enabled~span]:border [&:checked:enabled~span]:border-gray-dark",value:"required",...j("isAnkcNumberRequired"),children:a.jsx("p",{children:"Required"})}),a.jsx(N.Z,{labelClassName:"flex-1",className:"card-gradient cursor-pointer rounded-lg border border-gray-lighter py-4 text-center lg:rounded-xl xl:p-6 xl:text-left",inputClassName:"[&:checked:enabled~span]:ring-1 [&:checked:enabled~span]:ring-gray-lighter [&:checked:enabled~span]:border [&:checked:enabled~span]:border-gray-dark",value:"optional",...j("isAnkcNumberRequired"),children:a.jsx("p",{children:"Optional"})})]})]}),k.isAnkcNumberRequired?.message&&a.jsx(p.cp,{className:"mb-4",size:"lg",error:k?.isAnkcNumberRequired?.message}),a.jsx("div",{className:"mb-4 flex-col sm:flex-row space-x-0 flex justify-between sm:space-x-5 space-y-4 sm:space-y-0",children:a.jsx(p.II,{type:"number",label:"Budget",className:"flex-1",error:k?.budget?.message,required:!0,...j("budget")})}),a.jsx(o.Qr,{name:"referenceImages",control:w,render:({field:e})=>(0,a.jsxs)(a.Fragment,{children:[a.jsx(g.b,{label:"Upload reference wanted puppy images",accept:"image/*",multiple:!0,onChange:s=>{e.onChange([...e.value??[],...Array.from(s)])}}),e.value&&a.jsx(h.e,{className:"mb-4",images:e.value.map((e,s)=>({url:e instanceof File?URL.createObjectURL(e):"",error:k?.referenceImages?.[s]?.message})),onDelete:s=>{e.value.splice(s,1),e.onChange(e.value)}})]})}),k?.referenceImages&&a.jsx(p.cp,{className:"mb-4",size:"lg",error:k?.referenceImages?.message}),a.jsx(o.Qr,{name:"referenceVideoUrls",control:w,render:({field:e})=>a.jsx(a.Fragment,{children:a.jsx(p.II,{type:"text",label:"Enter reference wanted puppy video URLs (comma separated)",className:"flex-1 mb-4",error:k?.referenceVideoUrls?.message,required:!0,value:e.value?.join(",")??"",onChange:s=>{let r=s.target.value;e.onChange(r?r.split(","):[])}})})}),k?.referenceVideoUrls?.length&&k?.referenceVideoUrls?.length>0&&a.jsx(p.cp,{className:"mb-4",size:"lg",error:k?.referenceVideoUrls?.find?.(e=>!!e?.message)?.message}),a.jsx(x.OZ,{currentStepIdx:e,totalSteps:s,goToPreviousStep:n})]})},{}),validationSchema:v},{title:"Contact Information",description:"",form:a.jsx(d.b,{}),validationSchema:d.R},{title:"Checkout",description:"",form:a.jsx(()=>{let{stepIdx:e,totalSteps:s,getFormData:r,goToPreviousStep:n,appendFormData:d,replaceFormData:c}=(0,l.p)(),{data:o,isLoading:m}=(0,S.X)("wanted_puppy"),p=o?.products??[],{data:u=[]}=(0,_.x)("wanted_puppy"),{mutateAsync:g,isPending:h}=(0,I.Pl)(),{mutateAsync:f,isPending:j}=(0,A.f)(),N=(0,C.useRouter)(),[v,L]=(0,b.useState)(0),[U,V]=(0,b.useState)(void 0),F=p[v],z=U?D(U):void 0,Z=z?u[z.adIdx]:void 0,O=z?Z?.products?.[z.productIdx]:void 0,Q=(F?.price??0)+(O?O.price:0),T=async e=>{try{let{checkoutUrl:s}=await f(e);c({}),N.push(s)}catch(s){console.error(s);let e=(0,P.v)(s);(0,q.Am)({title:"Failed to create checkout link",description:e?.message??"Something went wrong"})}},G=async()=>{if(!F){(0,q.Am)({title:"Failed!",description:"Please select a listing duration"});return}if(Z&&O&&F.durationInDays<O.durationInDays){(0,q.Am)({title:"Failed!",description:"Ad duration is greater than listing duration"});return}let e=r();if(e.listingId){T({listingId:e.listingId,durationInDays:F.durationInDays,adId:Z?.id,adDurationInDays:O?.durationInDays});return}try{let s=await g({type:"wanted_puppy",fields:e});d({listingId:s.id}),await T({listingId:s.id,durationInDays:F.durationInDays,adId:Z?.id,adDurationInDays:O?.durationInDays})}catch(s){console.error(s);let e=(0,P.v)(s);(0,q.Am)({title:"Failed!",description:e?.message??"Something went wrong"})}};return(0,a.jsxs)("div",{className:"mt-6 pb-40",children:[a.jsx(w.RequireUser,{className:"max-w-full",successRedirect:`${k.Z.public.createListing.wantedPuppyListing}?step=${e+1}`,children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("label",{className:"text-h5",children:[a.jsx("span",{className:"mb-2 block font-bold",children:"Listing Duration"}),m?"Loading...":(0,a.jsxs)(y.Ph,{disabled:p.length<=1,onValueChange:e=>{L(Number(e))},value:v.toString(),children:[a.jsx(y.i4,{disabled:p.length<=1,className:"mb-4 h-auto [&>span]:block [&_.select-box]:border-none text-start disabled:!opacity-100",children:a.jsx(y.ki,{placeholder:"Select wanted puppy listing"})}),a.jsx(y.Bw,{children:p.map((e,s)=>a.jsx(y.Ql,{className:"w-full flex-1 [&_span[id^='radix-']]:block [&_span[id^='radix-']]:w-full",value:s.toString(),children:(0,a.jsxs)("div",{className:"select-box border rounded-md p-2 w-full flex-1",children:[a.jsx(t.X,{tag:"h3",children:e.title}),(0,a.jsxs)(t.x,{className:"mt-3",children:["Duration"," ",a.jsx("span",{className:"text-gray-light font-bold",children:e.durationInDays})," ","days"]}),(0,a.jsxs)(t.x,{className:"mt-3",children:["Price"," ",a.jsx("span",{className:"font-bold",children:e.price})," ",i.$S," "]})]})},s.toString()))})]})]}),u.length>0&&(0,a.jsxs)("label",{className:"text-h5",children:[a.jsx("span",{className:"mb-2 block font-bold",children:"Select Ad"}),(0,a.jsxs)(y.Ph,{onValueChange:e=>{V(e)},value:U,children:[a.jsx(y.i4,{className:"mb-4 h-auto [&>span]:block [&_.select-box]:border-none text-start disabled:!opacity-100",children:a.jsx(y.ki,{placeholder:"Select ad"})}),(0,a.jsxs)(y.Bw,{children:[U&&a.jsx(x.zx,{className:"w-full p-4",variant:"ghost",onClick:e=>{e.stopPropagation(),V(void 0)},children:"Clear"}),u.map((e,s)=>e.products.map((r,l)=>a.jsx(y.Ql,{className:"w-full flex-1 [&_span[id^='radix-']]:block [&_span[id^='radix-']]:w-full",value:R(s,l),children:(0,a.jsxs)("div",{className:"select-box border rounded-md p-2 w-full flex-1",children:[a.jsx(t.X,{tag:"h3",children:e.title}),a.jsx(t.x,{children:r.description}),(0,a.jsxs)(t.x,{className:"mt-3",children:["Duration"," ",a.jsx("span",{className:"text-gray-light font-bold",children:r.durationInDays})," ","days"]}),(0,a.jsxs)(t.x,{className:"mt-3",children:["Price"," ",a.jsx("span",{className:"font-bold",children:r.price})," ",i.$S]})]})},R(s,l))))]})]},U)]}),(0,a.jsxs)("div",{className:"mt-4 flex justify-between items-center",children:[(0,a.jsxs)(t.x,{children:["Listing (",F?.durationInDays," days)"]}),a.jsx(t.x,{children:(0,a.jsxs)("span",{className:"text-h4 font-bold",children:[i.$S," ",F?.price]})})]}),Z&&O&&(0,a.jsxs)("div",{className:"mt-2 flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(t.x,{children:["Ad ",Z?.title," (",O.durationInDays," ","days)"]}),a.jsx(t.x,{className:"text-sm",children:O.description})]}),a.jsx(t.x,{children:(0,a.jsxs)("span",{className:"text-h4 font-bold",children:[i.$S," ",O.price]})})]}),a.jsx(x.iz,{className:"mb-2 mt-4"}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx(t.x,{children:"Total"}),a.jsx(t.x,{children:(0,a.jsxs)("span",{className:"text-h3 font-bold",children:[i.$S," ",Q]})})]}),a.jsx(x.iz,{className:"mt-2 mb-4"}),a.jsx(x.zx,{disabled:h||j,isLoading:h||j,onClick:G,children:h?"Loading...":"Checkout"})]})}),a.jsx(x.OZ,{currentStepIdx:e,totalSteps:s,goToPreviousStep:n})]})},{})}],U=()=>{let{stepIdx:e}=(0,l.p)(),s=L[e]??{};return a.jsx("div",{className:"w-full max-w-5xl mx-auto",children:(0,a.jsxs)("div",{className:"container-fluid",children:[a.jsx(t.X,{children:s.title}),s.description&&a.jsx(t.x,{className:"text-base md:text-xl mt-4",children:s.description}),s.form]})})},V=()=>{if(!(0,n.O_)())return null;let e=localStorage.getItem(i.uf.WANTED_PUPPY_LISTING_FORM_DATA),s=e?JSON.parse(e):{};return a.jsx(l.z,{totalSteps:L.length,initialData:s,onChangeData:e=>{localStorage.setItem(i.uf.WANTED_PUPPY_LISTING_FORM_DATA,JSON.stringify(e))},validationSchemas:L.map(e=>e.validationSchema),children:a.jsx(U,{})})},F="force-dynamic";function z(){return a.jsx("section",{className:"pt-16 md:pt-20 4xl:pt-24",children:a.jsx("div",{className:"flex justify-center mt-10 lg:mt-14 h-[calc(100vh-64px)] md:h-[calc(100vh-80px)] 4xl:h-[calc(100vh-96px)]",children:a.jsx(V,{})})})}function Z(){return a.jsx(b.Suspense,{fallback:null,children:a.jsx(z,{})})}},52247:(e,s,r)=>{"use strict";r.d(s,{Z:()=>i});var a=r(57635),t=r(99744),l=r(54993);let n=(0,t.forwardRef)(({children:e,className:s,inputClassName:r,labelClassName:t,...n},i)=>(0,a.jsxs)("label",{className:t,children:[a.jsx("input",{type:"radio",ref:i,className:(0,l.Z)("peer hidden",r),...n}),a.jsx("span",{className:(0,l.Z)("block",s),children:e})]}));n.displayName="AdvancedRadio";let i=n},55099:(e,s,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(s),r.d(s,{default:()=>n,dynamic:()=>l});var t=r(1470);let e=await (0,t.createProxy)(String.raw`/home/runner/work/next-frontend/next-frontend/app/(pages)/create-listing/wanted-puppy-listing/page.tsx`),l=e.dynamic,n=e.default;a()}catch(e){a(e)}},1)}};var s=require("../../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),a=s.X(0,[9632,3288,4030,100,885,4208,3567,4679,1020,1755,3770,9700,4792,2571,3309,301,4584,3972],()=>r(50768));module.exports=a})();